<!-- Save this file as 'index2.html' -->

<!-- <link rel = "stylesheet" href = "styles.css"> -->

{% extends "base1.html" %}

{% block title %}City Selection{% endblock %}

{% block content %}

<div class="flex justify-center items-center">
    <div class="text-center">
        <h1 class="text-3xl font-bold mb-4">Welcome to BookMyFlight!</h1>

        {% if show_profile %}
            <p class="mb-2">Hello, {{ email }}!</p>
            <p class="mb-2"><a href="{{ url_for('profile_home', email=session['email']) }}" class="text-blue-500 hover:underline">Go to your profile</a></p>
            <p class="mb-2"><a href="{{ url_for('my_bookings') }}" class="text-blue-500 hover:underline">View My Bookings</a></p>
            <p><a href="{{ url_for('logout') }}" class="text-red-500 hover:underline">Logout</a></p>
        {% elif show_login %}
            <p class="mb-2">Please <b><a href="{{ url_for('login') }}" class="text-blue-500 hover:underline hover:text-indigo-600">log in</a></b> to access additional features.</p>
            <p>New user? <a href="{{ url_for('register') }}" class="text-blue-500 hover:underline"><b>Sign up here</b></a>.</p>
        {% endif %}
    </div>
</div>

<div class="flex justify-center items-center">
    <div class="rounded-3xl p-8 shadow-xl">
        <h1 class="text-2xl font-bold mb-4">City Selection</h1>

        <form action="{{ url_for('flight_search') }}" method="post" class="flex flex-wrap justify-center">
            <div class="mb-4 mr-4">
                <label for="from" class="block mb-1 font-bold">From:</label>
                <select name="from" id="from" class="border p-2 rounded-md" placeholder = "Source">
                    {% for city in list_of_cities %}
                        <option value="{{ city.capitalize() }}">{{ city.capitalize() }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-4 mr-4">
                <label for="to" class="block mb-1 font-bold">To:</label>
                <select name="to" id="to" class="border p-2 rounded-md" placeholder = "Destination">
                    {% for city in list_of_cities %}
                        <option value="{{ city.capitalize() }}">{{ city.capitalize() }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-4 mr-4">
                <label for="departure-date" class="block mb-1 font-bold">Departure Date:</label>
                <input type="date" id="departure-date" name="departure_date" required class="border p-2 rounded-md">
            </div>

            <div class="w-full flex justify-center">
                <input type="submit" value="Submit" class="button">
            </div>
        </form>
    </div>
</div>



    <script>
        function validateForm() {
            var startDate = new Date("2024-05-01").toISOString().split('T')[0];
            document.getElementById('departure-date').setAttribute('min', startDate);
            return true;
        }

        // Set the minimum date for the date input to May 1, 2024
        var startDate = new Date("2024-05-01").toISOString().split('T')[0];
        document.getElementById("departure-date").min = startDate;
    </script>
{% endblock %}
